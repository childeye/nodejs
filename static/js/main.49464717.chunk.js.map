{"version":3,"sources":["components/card.module.css","components/cardEditForm.module.css","components/cardAddForm.module.css","components/login.module.css","components/imageFileInput.module.css","components/header.module.css","components/preview.module.css","components/footer.module.css","components/maker.module.css","components/editor.module.css","app.module.css","components/button.module.css","components/Header.jsx","components/Footer.jsx","components/Login.jsx","components/Button.jsx","components/CardEditForm.jsx","components/CardAddForm.jsx","components/Editor.jsx","components/Card.jsx","components/Preview.jsx","components/Maker.jsx","App.jsx","service/firebase.js","service/auth_service.js","service/image_uploader.js","components/ImageFileInput.jsx","service/card_repository.js","index.js"],"names":["module","exports","Header","memo","onLogout","console","log","process","REACT_APP_CONTEXT_PATH","className","styles","header","logout","onClick","logo","src","alt","title","Footer","footer","Login","authService","history","useHistory","goToMaker","userId","push","pathname","state","id","onLogin","event","currentTarget","textContent","login","then","data","user","uid","useEffect","onAuthChange","list","item","button","Button","name","CardEditForm","card","updateCard","deleteCard","FileInput","company","email","message","theme","fileName","onChange","preventDefault","value","form","input","type","select","textarea","fileInput","onFileChange","file","fileURL","url","CardAddForm","onAdd","formRef","useRef","nameRef","companyRef","themeRef","titleRef","emailRef","messageRef","useState","setFile","ref","placeholder","defaultValue","Date","now","current","reset","Editor","cards","addCard","editor","Object","keys","map","key","getStyles","dark","light","colorful","Error","Card","avatar","info","Preview","preview","Maker","cardRepository","historyState","location","setCards","setUserId","useCallback","stopSync","syncCard","createOrUpdateCard","prevCards","updated","saveCard","maker","container","removeCard","App","app","basename","exact","path","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseAuth","auth","firebaseDatabase","database","googleProvider","GoogleAuthProvider","githubProvider","GithubAuthProvider","AuthService","providerName","authProvider","this","getProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","ImageUploader","a","FormData","append","fetch","method","body","res","json","ImageFileInput","imageUploader","loading","setLoading","inputRef","files","upload","target","uploaded","original_filename","accept","grey","pink","click","CardRepository","onUpdate","on","snapshot","val","off","set","catch","e","remove","props","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49464717.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerShadow\":\"rgba(217, 217, 217, 1)\",\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"makerColorful\":\"linear-gradient(166deg, rgba(237, 193, 211, 1) 0%,rgba(212, 149, 161, 1) 60%, rgba(162, 63, 63, 1) 100%, rgba(127, 188, 242, 1) 100%)\",\"makerWheat\":\"wheat\",\"card\":\"card_card__1PIAy\",\"dark\":\"card_dark__e1PDr\",\"light\":\"card_light__3-6EX\",\"colorful\":\"card_colorful__KMsuV\",\"avatar\":\"card_avatar__3UlEO\",\"info\":\"card_info__1cw8n\",\"name\":\"card_name__2dhlq\",\"company\":\"card_company__2MPGe\",\"title\":\"card_title__3OyET\",\"email\":\"card_email__1CFrp\",\"message\":\"card_message__p8g5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"form\":\"cardEditForm_form__3ilgQ\",\"input\":\"cardEditForm_input__34diR\",\"textarea\":\"cardEditForm_textarea__sVWni\",\"select\":\"cardEditForm_select__1w1KG\",\"button\":\"cardEditForm_button__3HMXI\",\"fileInput\":\"cardEditForm_fileInput__2xufF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"form\":\"cardAddForm_form__3Hhy9\",\"input\":\"cardAddForm_input__1fD68\",\"textarea\":\"cardAddForm_textarea__2_c4a\",\"select\":\"cardAddForm_select__3qRv4\",\"button\":\"cardAddForm_button__m66KH\",\"fileInput\":\"cardAddForm_fileInput__3I5d2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerWhite\":\"white\",\"makerBlack\":\"black\",\"makerLightPink\":\"#ffeae8\",\"login\":\"login_login__2F70I\",\"list\":\"login_list__K4hku\",\"item\":\"login_item__w-OUu\",\"button\":\"login_button__2l1WW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerLightGrey\":\"#e8e7e6\",\"makerLightPink\":\"#ffeae8\",\"makerPink\":\"undefined\",\"container\":\"imageFileInput_container__2WBT1\",\"input\":\"imageFileInput_input__2a7eM\",\"button\":\"imageFileInput_button__nZ9G8\",\"grey\":\"imageFileInput_grey__22VN_\",\"pink\":\"imageFileInput_pink__29tAT\",\"loading\":\"imageFileInput_loading__ihKXX\",\"spin\":\"imageFileInput_spin__3ZYR_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerWhite\":\"white\",\"makerBlack\":\"black\",\"header\":\"header_header__2eggW\",\"logo\":\"header_logo__yOj9f\",\"title\":\"header_title__dFDFY\",\"logout\":\"header_logout__3fg52\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"preview\":\"preview_preview__1DVvJ\",\"title\":\"preview_title__1_0jf\",\"cards\":\"preview_cards__2bAgH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerWhite\":\"white\",\"makerBlack\":\"black\",\"footer\":\"footer_footer__13GXH\",\"title\":\"footer_title__3cVEy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mediaQuery\":\"62rem\",\"makerWhite\":\"white\",\"maker\":\"maker_maker__2aRcA\",\"container\":\"maker_container__20xMH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerLightGrey\":\"#e8e7e6\",\"editor\":\"editor_editor__2dd_j\",\"title\":\"editor_title__87LtX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGrey\":\"#626262\",\"app\":\"app_app__cewju\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerWhite\":\"white\",\"makerGreen\":\"#385461\",\"button\":\"button_button__3Pz0r\"};","import React, {memo} from \"react\";\nimport styles from \"./header.module.css\"\n\nconst Header = memo(({onLogout}) => {\n    console.log('Header')\n    const contextPath = process.env.REACT_APP_CONTEXT_PATH || '/nodejs-react-cardMaker';\n    return (\n        <header className={styles.header}>\n            {onLogout && (<button className={styles.logout} onClick={onLogout}>Logout</button> )}\n            <img className={styles.logo} src=\"`${contextPah}`/images/logo.png\" alt=\"logo\" />\n            <h1 className={styles.title}>Card Maker</h1>\n        </header>\n    )\n});\n\nexport default Header;","import React, {memo} from \"react\";\nimport styles from \"./footer.module.css\"\n\nconst Footer = memo(() => (\n    <footer className={styles.footer}>\n        <p className={styles.title}>Code your dream.</p>\n    </footer>\n));\n\nexport default Footer;","import Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport React, {useEffect} from \"react\";\nimport styles from \"./login.module.css\"\nimport {useHistory} from \"react-router-dom\"\n\nconst Login = ({authService}) => {\n\n    const history = useHistory();\n\n    const goToMaker = (userId) => {\n        history.push({\n            pathname: \"/maker\",\n            state: {id: userId}\n        });\n    }\n\n    const onLogin = event => {\n        console.log(event.currentTarget.textContent);\n        authService\n            .login(event.currentTarget.textContent)\n            .then(data => {\n                goToMaker(data.user.uid);\n            });\n    }\n\n    useEffect(() => {\n        authService.onAuthChange(user => {\n            user && goToMaker(user.id)\n        })\n    });\n\n    return (\n        <section className={styles.login}>\n            <Header />\n            <section>\n                <h1>Login</h1>\n                <ul className={styles.list}>\n                    <li className={styles.item}>\n                        <button className={styles.button} onClick={onLogin}>Google</button>\n                    </li>\n                    <li className={styles.item}>\n                        <button className={styles.button} onClick={onLogin}>Github</button>\n                    </li>\n                </ul>\n            </section>\n            <Footer />\n        </section>\n    );\n};\n\nexport default Login;","import React, {memo} from 'react';\nimport styles from \"./button.module.css\"\n\nconst Button = memo(({name, onClick}) => (\n    <button className={styles.button} onClick={onClick}>{name}</button>\n));\n\nexport default Button;","import React, {memo} from 'react';\nimport styles from \"./cardEditForm.module.css\"\nimport Button from \"./Button\";\n\nconst CardEditForm = memo(({card, updateCard, deleteCard, FileInput}) => {\n    const {name, company, title, email, message, theme, fileName} = card;\n\n    const onFileChange = (file) => {\n        updateCard({\n            ...card,\n            fileName: file.name,\n            fileURL: file.url\n        })\n    };\n\n    const onChange = (event) => {\n        if(event.currentTarget == null) {\n            return;\n        }\n\n        event.preventDefault();\n\n        updateCard({\n            ...card,\n            [event.currentTarget.name]: event.currentTarget.value,\n        })\n    }\n\n    const onDelete = () => {\n        deleteCard(card);\n    }\n\n    return (\n        <form className={styles.form}>\n            <input className={styles.input} type=\"text\" name=\"name\" value={name} onChange={onChange}/>\n            <input className={styles.input} type=\"text\" name=\"company\" value={company} onChange={onChange}/>\n            <select className={styles.select} name=\"theme\" value={theme} onChange={onChange}>\n                <option value=\"light\">Light</option>\n                <option value=\"dark\">Dark</option>\n                <option value=\"colorful\">Colorful</option>\n            </select>\n            <input className={styles.input} type=\"text\" name=\"title\" value={title} onChange={onChange}/>\n            <input className={styles.input} type=\"text\" name=\"email\" value={email} onChange={onChange}/>\n            <textarea className={styles.textarea} name=\"message\" value={message} onChange={onChange}></textarea>\n            <div className={styles.fileInput}>\n                <FileInput name={fileName} onFileChange={onFileChange} />\n            </div>\n            <Button name=\"Delete\" onClick={onDelete} />\n        </form>\n    );\n});\n\nexport default CardEditForm;","import React, {memo, useRef, useState} from 'react';\nimport styles from \"./cardAddForm.module.css\"\nimport Button from \"./Button\";\n\n// onAdd, FileInput 가 바뀌지 않으면 업데이트 될 필요가 없다.\nconst CardAddForm = memo(\n    ({onAdd, FileInput}) => {\n        const formRef = useRef();\n        const nameRef = useRef();\n        const companyRef = useRef();\n        const themeRef = useRef();\n        const titleRef = useRef();\n        const emailRef = useRef();\n        const messageRef = useRef();\n        const [file, setFile] = useState({fileName: null, fileURL: null});\n\n        const onSubmit = (event) => {\n            event.preventDefault();\n            const card = {\n                id: Date.now(),\n                name: nameRef.current.value || '',\n                company: companyRef.current.value || '',\n                theme: themeRef.current.value || '',\n                title: titleRef.current.value || '',\n                email: emailRef.current.value || '',\n                message: messageRef.current.value || '',\n                fileName: file.fileName || '',\n                fileURL: file.fileURL || ''\n            }\n\n            formRef.current.reset();\n            setFile({fileName: null, fileURL: null});\n            onAdd(card);\n        };\n\n        const empty = () => {\n        }\n\n        const onFileChange = (file) => {\n            setFile({\n                fileName: file.name,\n                fileURL: file.url\n            })\n        }\n\n        return (\n            <form ref={formRef} className={styles.form}>\n                <input\n                    ref={nameRef}\n                    className={styles.input} type=\"text\" name=\"name\" placeholder=\"name\" defaultValue=''/>\n                <input\n                    ref={companyRef}\n                    className={styles.input} type=\"text\" name=\"company\" placeholder=\"company\" defaultValue=''/>\n                <select\n                    ref={themeRef}\n                    className={styles.select} name=\"theme\" value=\"light\" onChange={empty}>\n                    <option value=\"light\">Light</option>\n                    <option value=\"dark\">Dark</option>\n                    <option value=\"colorful\">Colorful</option>\n                </select>\n                <input\n                    ref={titleRef}\n                    className={styles.input} type=\"text\" name=\"title\" placeholder=\"title\" defaultValue=''/>\n                <input\n                    ref={emailRef}\n                    className={styles.input} type=\"text\" name=\"email\" placeholder=\"email\" defaultValue=''/>\n                <textarea\n                    ref={messageRef}\n                    className={styles.textarea} name=\"message\" placeholder=\"message\" defaultValue=''></textarea>\n                <div className={styles.fileInput}>\n                    <FileInput name={file.fileName} onFileChange={onFileChange}/>\n                </div>\n                <Button name=\"Add\" onClick={onSubmit} />\n            </form>\n        );\n    }\n);\n\nexport default CardAddForm;","import React from 'react';\nimport styles from \"./editor.module.css\"\nimport CardEditForm from \"./CardEditForm\";\nimport CardAddForm from \"./CardAddForm\";\n\nconst Editor = ({cards, addCard, updateCard, deleteCard, FileInput}) => (\n    <section className={styles.editor}>\n        <h1 className={styles.title}>Card Maker</h1>\n        {\n            Object.keys(cards).map(key => (\n                <CardEditForm key={key} card={cards[key]} updateCard={updateCard} deleteCard={deleteCard} FileInput={FileInput} />\n            ))\n\n            //cards.map(card => (\n            //    <CardEditForm key={card.id} card={card} updateCard={updateCard} deleteCard={deleteCard} />\n            //))\n        }\n        <CardAddForm onAdd={addCard} FileInput={FileInput}/>\n    </section>\n);\n\nexport default Editor;","import React, {memo} from 'react';\nimport styles from \"./card.module.css\"\n\nconst DEFAULT_IMG = \"/images/default_logo.png\";\n\n// card 가 바뀌지 않으면 업데이트 될 필요가 없다.\nconst Card = memo(({card}) => {\n    const {name, company, title, email, message, theme, fileURL } = card;\n    const url = fileURL || DEFAULT_IMG;\n\n    return (\n        <li className={`${styles.card} ${getStyles(theme)}`}>\n            <img className={styles.avatar} src={url} alt=\"profile\" />\n            <div className={styles.info}>\n                <h1 className={styles.name}>{name}</h1>\n                <p className={styles.company}>{company}</p>\n                <p className={styles.title}>{title}</p>\n                <p className={styles.email}>{email}</p>\n                <p className={styles.message}>{message}</p>\n            </div>\n        </li>\n    );\n});\n\n\nfunction getStyles(theme) {\n    switch (theme) {\n        case 'dark': return styles.dark;\n        case 'light': return styles.light;\n        case 'colorful': return styles.colorful;\n        default: throw  new Error(`unknown theme: ${theme}`);\n    }\n}\n\nexport default Card;","import React from 'react';\nimport styles from \"./preview.module.css\"\nimport Card from \"./Card\";\n\n// data 가 빈번히 변경되는 부분은 불필요하게 memo 를 사용하지 않아도 된다.\nconst Preview = ({cards}) => (\n    <section className={styles.preview}>\n        <h1 className={styles.title}>Card Preview</h1>\n        <ul className={styles.cards}>\n        {\n            Object.keys(cards).map(key => (\n                <Card key={key} card={cards[key]} />\n            ))\n\n            //cards.map(card => (\n            //    <Card key={card.id} card={card} />\n            //))\n        }\n        </ul>\n    </section>\n);\n\nexport default Preview;","import React, {useCallback, useEffect, useState} from 'react';\nimport styles from \"./maker.module.css\"\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport {useHistory} from \"react-router-dom\";\nimport Editor from \"./Editor\";\nimport Preview from \"./Preview\";\n\nconst Maker = ({authService, FileInput, cardRepository}) => {\n    const history = useHistory();\n    const historyState = history?.location?.state;\n\n    const [cards, setCards] = useState({});\n    const [userId, setUserId] = useState(historyState && historyState.id);\n    //const [cards, setCards] = useState();\n\n    const onLogout = useCallback(() => {\n        authService.logout();\n    }, [authService]);\n\n    // userId 값이 변경됐을 시 처리.\n    useEffect(() =>{\n        if(!userId) {\n            return;\n        };\n\n        const stopSync = cardRepository.syncCard(userId, cards => {\n            setCards(cards);\n        });\n\n        return () => {\n            stopSync();\n        }\n    }, [userId, cardRepository]);\n\n    // login\n    useEffect(() => {\n        authService.onAuthChange(user => {\n            if (user) {\n                setUserId(user.uid);\n                console.log(userId);\n            } else {\n                history.push('/');\n            }\n        });\n    }, [userId, authService, history])\n\n    /*\n    const addCard = (card) => {\n        console.log('Add Card');\n        const updated = [...cards, card];\n        setCards(updated);\n    }\n\n    const updateCard = (card) => {\n        console.log('update Card', card);\n        const updated = cards.map(item => {\n            if(card.id === item.id) {\n                return card;\n            }\n\n            return item;\n        })\n\n        setCards(updated);\n    }\n     */\n\n    const createOrUpdateCard = (card) => {\n        console.log('createOrUpdateCard Card', card);\n        setCards(prevCards => {\n            const updated = {...prevCards};\n            updated[card.id] = card;\n\n            return updated;\n        })\n\n        console.log('cardRepository.saveCard')\n        cardRepository.saveCard(userId, card);\n    }\n\n    const deleteCard = (card) => {\n        const updated = {...cards};\n        delete updated[card.id];\n        setCards(updated);\n\n        cardRepository.removeCard(userId, card);\n    }\n\n    return (\n        <section className={styles.maker}>\n            <Header onLogout={onLogout} />\n            <div className={styles.container}>\n                <Editor cards={cards} addCard={createOrUpdateCard} updateCard={createOrUpdateCard} deleteCard={deleteCard} FileInput={FileInput}/>\n                <Preview cards={cards}/>\n            </div>\n            <Footer />\n        </section>\n    );\n}\n\nexport default Maker;","import styles from './app.module.css';\nimport Login from './components/Login'\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\";\nimport Maker from \"./components/Maker\";\n\nfunction App({authService, FileInput, cardRepository}) {\n  return (\n      <div className={styles.app}>\n          <BrowserRouter basename=\"/nodejs-react-cardMaker\">\n              <Switch>\n                  <Route exact path=\"/\">\n                      <Login authService={authService} />\n                  </Route>\n                  <Route path=\"/maker\">\n                      <Maker authService={authService} FileInput={FileInput} cardRepository={cardRepository} />\n                  </Route>\n              </Switch>\n          </BrowserRouter>\n      </div>\n  );\n}\n\nexport default App;\n","import firebase from \"firebase/app\";\nimport 'firebase/auth'\nimport 'firebase/database'\n\n\n// const firebaseConfig = {\n//     apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n//     authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n//     projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n//     databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n// };\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCBuYXPMbxGvfbx-mGphLkXDYbZNsjOcSk\",\n    authDomain: \"dreamcoding-cardmaker-c7087.firebaseapp.com\",\n    databaseURL: \"https://dreamcoding-cardmaker-c7087-default-rtdb.firebaseio.com\",\n    projectId: \"dreamcoding-cardmaker-c7087\",\n    storageBucket: \"dreamcoding-cardmaker-c7087.appspot.com\",\n    messagingSenderId: \"1071906347926\",\n    appId: \"1:1071906347926:web:5a7c7e25f148ef9b695bb7\",\n    measurementId: \"G-RZJPP748WB\"\n};\n\n// const firebaseConfig = {\n//     apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n//     authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n//     databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n//     projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n//     storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n//     messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n//     appId: process.env.REACT_APP_FIREBASE_APP_ID,\n//     measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\n// };\n\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nexport const firebaseAuth = firebaseApp.auth();\nexport const firebaseDatabase = firebaseApp.database();\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\nexport const githubProvider = new firebase.auth.GithubAuthProvider();","import {firebaseAuth, githubProvider, googleProvider} from \"./firebase\";\n\nclass AuthService {\n    login(providerName) {\n        console.log(providerName)\n        const authProvider = this.getProvider(providerName);\n        return firebaseAuth.signInWithPopup(authProvider);\n    }\n\n    logout() {\n        firebaseAuth.signOut();\n    }\n\n    onAuthChange(onUserChanged) {\n        firebaseAuth.onAuthStateChanged(user => {\n            onUserChanged(user);\n        })\n    }\n\n    getProvider(providerName) {\n        switch (providerName) {\n            case 'Google': return googleProvider;\n            case 'Github': return githubProvider;\n            default: return new Error(`not supported provider: ${providerName}`);\n        }\n    }\n}\n\nexport default AuthService;","class ImageUploader {\n    async upload(file) {\n        const url = \"https://api.cloudinary.com/v1_1/uangel/image/upload\";\n\n        const data = new FormData();\n        data.append(\"file\", file);\n        data.append(\"upload_preset\", \"cardMaker\");\n\n        const res = await fetch(url, {\n            method: \"POST\",\n            body: data\n        });\n\n        return await res.json();\n    }\n}\n\nexport default ImageUploader;","import React, {memo, useRef, useState} from 'react';\nimport styles from './imageFileInput.module.css'\n\nconst ImageFileInput = memo(({imageUploader, name, onFileChange}) => {\n    const [loading, setLoading] = useState(false);\n\n    const inputRef = useRef();\n    const onButtonClick = (event) => {\n        event.preventDefault();\n        inputRef.current.click();\n    }\n\n    const onChange = async (event) => {\n        setLoading(true);\n        console.log('onChange', event.currentTarget.files[0]);\n        //imageUploader.upload(event.target.files[0]).then(console.log);\n        const uploaded = await imageUploader.upload(event.target.files[0]);\n        setLoading(false);\n\n        console.log(uploaded);\n        onFileChange({\n            name: uploaded.original_filename,\n            url: uploaded.url\n        });\n    }\n\n    return (\n        <div className={styles.container}>\n            <input ref={inputRef} className={styles.input} type=\"file\" accept=\"image/*\" name=\"file\" onChange={onChange}/>\n\n            {!loading && (\n                <button className={`${styles.button} ${name ? styles.grey : styles.pink}`} onClick={onButtonClick}>{name || 'No file'}</button>\n            )\n            }\n\n            {loading && <div className={styles.loading}></div>}\n        </div>\n    )\n});\n\nexport default ImageFileInput;","import { firebaseDatabase } from \"./firebase\";\n\nclass CardRepository {\n    syncCard(userId, onUpdate) {\n        const ref = firebaseDatabase.ref(`${userId}/cards`);\n        ref.on('value', snapshot => {\n            const value = snapshot.val();\n            value && onUpdate(value);\n        })\n\n        return () => ref.off();\n    }\n\n    saveCard(userId, card) {\n        console.log('save repository', userId, card)\n        firebaseDatabase.ref(`${userId}/cards/${card.id}`).set(card).catch(e => {\n            console.log(\"save error\");\n            console.log(e);\n        });\n    }\n\n    removeCard(userId, card) {\n        console.log('delete repository', userId, card)\n        firebaseDatabase.ref(`${userId}/cards/${card.id}`).remove();\n    }\n}\n\nexport default CardRepository;","import React, {memo} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport AuthService from \"./service/auth_service\";\nimport ImageUploader from \"./service/image_uploader\";\nimport ImageFileInput from \"./components/ImageFileInput\";\nimport CardRepository from \"./service/card_repository\";\n\nconst authService = new AuthService();\nconst imageUploader = new ImageUploader();\nconst FileInput = memo((props) => (\n    <ImageFileInput {...props} imageUploader={imageUploader} />\n));\n\nconst cardRepository = new CardRepository();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App authService={authService} FileInput={FileInput} cardRepository={cardRepository} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}